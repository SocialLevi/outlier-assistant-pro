<!DOCTYPE html>
<html>
<head>
    <title>Outlier Help</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">
    <!-- Tailwind CSS for modern hero section -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- This is the "old way" CSS you requested, contained within the HTML file -->
    <style>
        /* Basic body styling */
        body {
            font-family: 'Lora', serif; /* Using a classier, serif font */
            font-style: italic; /* Applying slant style */
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
            color: #333;
            /* Disable text selection and copying */
            -webkit-user-select: none; /* Safari */
            -ms-user-select: none; /* IE 10+ */
            user-select: none; /* Standard */
        }

        /* Header and navigation styling */
        .header {
            background-color: #2c3e50; /* Simplified background */
            color: #ecf0f1;
            padding: 15px 30px;
            overflow: hidden; /* Contains the floated elements */
            border-bottom: 1px solid #1a2531;
        }

        .header h1 {
            margin: 0;
            float: left;
        }

        .nav {
            float: right;
            margin-top: 10px;
        }

        .nav a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 10px 15px;
            font-weight: bold;
        }

        .nav a:hover {
            background-color: #34495e;
            color: white;
            border-radius: 8px; /* Added border radius */
        }

        /* Main content container */
        .container {
            width: 960px; /* Fixed width layout, common in older designs */
            margin: 20px auto;
            padding: 20px;
            background-color: #ffffff;
            border: 1px solid #cccccc;
            border-radius: 8px; /* Added border radius */
            /* box-shadow removed for an older look */
        }

        /* Page content styling */
        .page {
            display: none; /* Hide all pages by default */
        }

        .page.active {
            display: block; /* Show only the active page */
        }

        .page h2 {
            color: #2c3e50;
            border-bottom: 2px solid #2c3e50;
            padding-bottom: 10px;
            /* text-shadow removed */
        }

        /* Styling for the simulated real-time feeds */
        .feed-item {
            border: 1px solid #e0e0e0;
            background-color: #fafafa;
            padding: 15px;
            margin-bottom: 15px;
            opacity: 0;
            animation: fadeIn 0.5s forwards;
            border-radius: 8px; /* Added border radius */
            display: flex; /* Use flexbox for layout */
            align-items: flex-start; /* Align items to the top */
            gap: 15px; /* Space between avatar and text */
        }
        
        /* NEW: Styles for Reddit Review Avatars */
        .review-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
            flex-shrink: 0; /* Prevent avatar from shrinking */
            background-color: #ddd; /* Fallback color */
        }

        .review-content {
            flex-grow: 1; /* Allow content to take remaining space */
        }

        .feed-item h3 {
            margin: 0 0 5px 0;
            color: #3498db;
        }

        .feed-item p {
            margin: 0;
            line-height: 1.6;
        }
        
        .feed-item .meta {
            font-size: 0.9em;
            color: #7f8c8d;
            margin-top: 10px;
        }

        /* New styles for Active Project Cards */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        .project-card {
            border: 1px solid #e0e0e0;
            background-color: #fafafa;
            padding: 20px;
            text-align: center;
            border-radius: 8px; /* Added border radius */
        }
        .project-card h3 {
            margin: 0 0 10px 0;
            color: #3498db;
        }
        .project-card .status {
            background-color: #34495e; /* Changed from green to dark slate blue */
            color: white;
            padding: 5px 10px;
            display: inline-block;
            margin-bottom: 15px;
            font-size: 0.9em;
            font-family: Arial, sans-serif;
            border-radius: 8px; /* Updated border radius */
        }
        .project-card .tasks {
            font-size: 1.2em;
            font-weight: bold;
            color: #2c3e50;
        }
        .project-card .tasks span {
            font-size: 0.8em;
            font-weight: normal;
            color: #7f8c8d;
            display: block;
        }


        /* Homepage specific styles */
        .homepage-grid {
            overflow: hidden; /* Simple way to contain floats */
        }
        .task-box {
            border: 1px solid #ddd;
            padding: 20px;
            margin-top: 20px;
            background-color: #f9f9f9;
            border-radius: 8px; /* Added border radius */
        }
        .task-box h3 {
            margin-top: 0;
            color: #34495e;
        }
        .task-box button {
            background-color: #3498db; /* Simplified background */
            color: white;
            border: 1px solid #1f648b; /* Button border for depth */
            padding: 10px 15px;
            cursor: pointer;
            margin-top: 10px;
            font-family: Arial, sans-serif; /* Buttons can have a simpler font */
            border-radius: 8px; /* As requested */
        }
        .task-box button:hover {
            background-color: #2980b9; /* Darker hover state */
        }
        .mcq-options label {
            display: block;
            margin-bottom: 10px;
        }
        .quiz-question {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        .ai-feedback-area {
            margin-top: 10px;
            font-weight: bold;
        }

        #quiz-submit-button {
            background-color: #6c757d; /* Changed from green to grey */
            font-size: 1.2em;
            width: 100%;
            padding: 15px;
        }
        #quiz-submit-button:hover {
            background-color: #5a6268; /* Darker grey */
        }

        #mcq-feedback {
            margin-top: 10px;
            font-weight: bold;
        }
        
        #score-tracker {
            text-align: center;
            font-size: 1.2em;
            margin-bottom: 20px;
            padding: 10px;
            background-color: #eaf5ff;
            border: 1px solid #cce4ff;
            border-radius: 8px; /* Added border radius */
        }
        
        /* Modal styles for qualification message */
        .modal-overlay {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.6);
        }
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 500px;
            text-align: center;
            animation: fadeIn 0.3s;
            border-radius: 8px; /* Added border radius */
        }
        .modal-content h3 {
            color: #2c3e50; /* Changed from green to main dark blue */
        }
        .modal-content a {
            display: inline-block;
            background-color: #6c757d; /* Changed from green to grey */
            color: white;
            padding: 12px 20px;
            text-decoration: none;
            border-radius: 8px;
            margin-top: 15px;
        }

        /* NEW: Style for the close button on the results page */
        #close-results-button {
            background-color: #34495e;
            color: white;
            border: none;
            padding: 10px 20px;
            margin-top: 20px;
            cursor: pointer;
            border-radius: 8px;
            font-family: Arial, sans-serif;
        }
        #close-results-button:hover {
            background-color: #2c3e50;
        }


        /* Simple animation for new items */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Animation for dynamic hero text */
        @keyframes textFade {
            0% { opacity: 0; transform: translateY(20px); }
            20% { opacity: 1; transform: translateY(0); }
            80% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-20px); }
        }

        #dynamic-text {
            animation: textFade 4s ease-in-out infinite;
        }


        /* Footer styling */
        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 20px;
            background-color: #34495e;
            color: #ecf0f1;
            font-size: 0.9em;
        }

        /* Basic responsiveness */
        @media (max-width: 1000px) {
            .container {
                width: 90%;
            }
        }
    </style>
</head>
<body>

    <!-- Header Section -->
    <div class="header">
        <h1>Outlier Help</h1>
        <div class="nav">
            <a href="#" onclick="showPage('home')">Home</a>
            <a href="#" onclick="showPage('projects')">Active Projects</a>
            <a href="#" onclick="showPage('reviews')">Reddit Reviews</a>
        </div>
    </div>

    <!-- Main Content Area -->
    <div class="container">
        <!-- Home Page Content -->
        <div id="home" class="page active">
            <h2>Dashboard</h2>
            <div id="score-tracker">
                <strong>Qualification Score: <span id="score">0</span> / 10</strong>
            </div>
             <!-- Modern, dynamic hero box using Tailwind CSS -->
            <div id="dynamic-hero" class="relative w-full h-72 bg-gradient-to-r from-slate-900 to-slate-700 rounded-lg flex items-center justify-center overflow-hidden shadow-2xl mb-5">
                 <!-- Background grid pattern -->
                <div class="absolute inset-0 bg-[url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" viewBox=\"0 0 40 40\"><path fill=\"%23334155\" fill-opacity=\"0.1\" d=\"M0 0h20v20H0zM20 20h20v20H20z\"/></svg>')]"></div>
                <!-- Background Image -->
                <img src="https://images.unsplash.com/photo-1518770660439-4636190af475?q=80&w=960&auto=format&fit=crop&ixlib=rb-4.0.3" alt="Abstract tech background" class="absolute inset-0 w-full h-full object-cover opacity-30" onerror="this.style.display='none'">
                <span id="dynamic-text" class="relative z-10 text-5xl font-extrabold text-white italic tracking-tight"></span>
            </div>

            <p>This site provides a live (simulated) feed of active projects and user reviews. Engage with the AI and STEM tasks below to sharpen your skills.</p>
            
            <div class="homepage-grid">
                 <!-- AI Graded Questions -->
                <div class="task-box">
                    <h3>AI Prompt Evaluation (Practice)</h3>
                    <div id="ai-task-container-full">
                        <!-- All AI Tasks will be loaded here by JavaScript -->
                    </div>
                </div>
                
                <!-- MCQs -->
                <div class="task-box">
                    <h3>PhD-Level STEM Quiz</h3>
                     <p>A perfect score of 10/10 is required to qualify for expert projects.</p>
                    <div id="mcq-container-full">
                        <!-- All MCQs will be rendered here by JavaScript -->
                    </div>
                    <div id="mcq-feedback"></div>
                    <button id="quiz-submit-button" onclick="gradeQuiz()">Grade My Answers</button>
                </div>
            </div>
        </div>

        <!-- Active Projects Page Content -->
        <div id="projects" class="page">
            <h2>Live Outlier.ai Projects</h2>
            <p>Showing the latest active tasks and projects.</p>
            <div id="projects-feed" class="projects-grid"></div>
        </div>

        <!-- Reddit Reviews Page Content -->
        <div id="reviews" class="page">
            <h2>Live Reddit Reviews</h2>
            <p>Real-time (simulated) feedback from Reddit users.</p>
            <div id="reviews-feed"></div>
        </div>
    </div>

    <!-- Footer Section -->
    <div class="footer">
        <p>&copy; 2023 Outlier Help. All rights reserved.</p>
    </div>

    <!-- Results Page Overlay -->
    <div id="results-page" class="modal-overlay">
        <div class="modal-content" id="results-content">
            <h2 id="results-title"></h2>
            <p id="results-score" style="font-size: 2em; margin: 20px 0; font-weight: bold;"></p>
            <div id="results-message"></div>
            <div id="qualified-link-container" style="display: none; margin-top: 20px;">
                 <a href="https://app.outlier.ai/expert/projects" target="_blank">Go to Expert Projects</a>
            </div>
            <button id="close-results-button" onclick="closeResults()">Close</button>
        </div>
    </div>


    <script>
        // --- Security: Disable Right-Click and Dev Tools ---
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });

        document.onkeydown = function(e) {
            // Disable F12 key
            if(e.keyCode == 123) {
                return false;
            }
            // Disable I key (for Ctrl+Shift+I)
            if(e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)){
                return false;
            }
            // Disable J key (for Ctrl+Shift+J)
            if(e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)){
                return false;
            }
            // Disable U key (for Ctrl+U)
            if(e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)){
                return false;
            }
        }

        // --- Page Navigation Logic ---
        function showPage(pageId) {
            var pages = document.getElementsByClassName('page');
            for (var i = 0; i < pages.length; i++) {
                pages[i].style.display = 'none';
            }
            document.getElementById(pageId).style.display = 'block';
        }
        
        // --- Real-time Simulation & Interactive Logic ---

        // Mock data for Outlier.ai projects
        var mockProjects = [
            { title: 'High Noon' }, { title: 'Big Mallet' }, { title: 'Blueberry Bagels' },
            { title: 'Melvins Mansion' }, { title: 'Measurement Kimono' }, { title: 'Antechamber Delivery' },
        ];

        // Mock data for Reddit reviews
        var mockReviews = [
             {
                user: 'Data_Nerd_92',
                review: 'Really enjoying the platform for the most part. The AI assistance helps me get through tasks faster and more accurately. The pay is consistent and the work is interesting. Definitely a solid platform if you can get consistent projects.',
                img: 'https://placehold.co/50x50/0079D3/FFFFFF?text=D'
            },
            {
                user: 'FrustratedContractor',
                review: 'Just a heads up for new people, the onboarding can be a real slog. It took me way longer than I expected to get through it all, and then I was just sitting around for days waiting for my first task. It\'s frustrating to put in all that effort and then have nothing to do.',
                img: 'https://placehold.co/50x50/FF4500/FFFFFF?text=F'
            },
            {
                user: 'SideHustleQueen',
                review: 'Consistent work and reliable payouts. A great way to use my skills to earn extra income from home. I\'ve been on here for about six months and it has been a game-changer for my finances.',
                img: 'https://placehold.co/50x50/7E57C2/FFFFFF?text=S'
            },
            {
                user: 'fact_is_stranger',
                review: 'I\'m having a really hard time with the reviewers. I failed a qualification because the reviewer said I was wrong, but the instructions clearly supported my answer. It feels like some of them don\'t even read the guidelines. Very discouraging when you spend a lot of time on a task.',
                img: 'https://placehold.co/50x50/546E7A/FFFFFF?text=F'
            },
             {
                user: 'AI_Trainee',
                review: 'The quality of projects is impressive. It feels like you are contributing to something meaningful. The work is challenging which I really appreciate. It keeps my skills sharp.',
                img: 'https://placehold.co/50x50/4CAF50/FFFFFF?text=A'
            },
            {
                user: 'EmptyQueueBlues',
                review: "Is anyone else stuck with an empty queue? I finished onboarding, and my dashboard just says 'No tasks available'. It's been like this for a week. The whole system feels like a black box and support hasn't been helpful.",
                img: 'https://placehold.co/50x50/FFB300/FFFFFF?text=E'
            }
        ];
        
        // Mock data for PhD-Level MCQs (10 total questions)
        var mockMCQs = [
            { question: "In computational complexity theory, what is the fundamental difference between the complexity classes P and NP?", options: ["P problems are solvable, NP are not.", "NP problems require non-deterministic Turing machines, while P problems can be solved by deterministic ones in polynomial time.", "P problems are for parallel computers, NP are for single-core.", "NP problems are a subset of P problems."], answer: "NP problems require non-deterministic Turing machines, while P problems can be solved by deterministic ones in polynomial time." },
            { question: "What is the significance of the Maxwell-Boltzmann distribution in statistical mechanics?", options: ["It describes the speed of a single particle.", "It describes the distribution of speeds for a collection of non-interacting particles in thermal equilibrium.", "It calculates the exact energy of a system.", "It determines the color of a heated object."], answer: "It describes the distribution of speeds for a collection of non-interacting particles in thermal equilibrium." },
            { question: "Describe the role of CRISPR-Cas9 as a gene-editing tool.", options: ["It's a type of imaging software.", "It randomly deletes genes.", "It uses a guide RNA to find and make a precise cut in DNA, allowing for genes to be removed or added.", "It only works on plant cells."], answer: "It uses a guide RNA to find and make a precise cut in DNA, allowing for genes to be removed or added." },
            { question: "What is the Riemann Hypothesis?", options: ["A proof for the existence of infinite prime numbers.", "A conjecture that the non-trivial zeros of the Riemann zeta function all have a real part of 1/2.", "A theorem about the geometry of triangles on a sphere.", "A law governing planetary orbits."], answer: "A conjecture that the non-trivial zeros of the Riemann zeta function all have a real part of 1/2." },
            { question: "Explain the concept of quantum entanglement as described by the Einstein-Podolsky-Rosen (EPR) paradox.", options: ["Particles can travel faster than light.", "A quantum state of two or more particles where their fates are linked, regardless of the distance separating them.", "A particle can be in two places at once.", "Observing a particle changes its mass."], answer: "A quantum state of two or more particles where their fates are linked, regardless of the distance separating them." },
            { question: "Describe the CAP theorem in distributed database systems.", options: ["It's a security protocol for databases.", "It states that a distributed system can only provide two of the following three guarantees: Consistency, Availability, and Partition tolerance.", "It guarantees all three: Consistency, Availability, and Partition tolerance.", "It's an algorithm for data compression."], answer: "It states that a distributed system can only provide two of the following three guarantees: Consistency, Availability, and Partition tolerance." },
            { question: "Explain the concept of chirality in molecules and its importance in pharmacology, using thalidomide as an example.", options: ["It refers to the color of a molecule.", "It's the property of a molecule being non-superimposable on its mirror image, which can lead to vastly different biological effects for each version (enantiomer).", "It refers to a molecule's boiling point.", "It's a measure of a molecule's electrical charge."], answer: "It's the property of a molecule being non-superimposable on its mirror image, which can lead to vastly different biological effects for each version (enantiomer)." },
            { question: "What is a Fourier Transform, and how is it applied in signal processing?", options: ["A method to encrypt data.", "A mathematical transform that decomposes a function of time (a signal) into the frequencies that make it up.", "A hardware component for audio playback.", "An algorithm for sorting numbers."], answer: "A mathematical transform that decomposes a function of time (a signal) into the frequencies that make it up." },
            { question: "What is the significance of the p-value in statistical hypothesis testing?", options: ["It's the probability that the hypothesis is true.", "It's the measure of an effect's size.", "It indicates the probability of obtaining results at least as extreme as the observed results, assuming the null hypothesis is correct.", "It is the threshold for statistical significance, always set at 0.05."], answer: "It indicates the probability of obtaining results at least as extreme as the observed results, assuming the null hypothesis is correct." },
            { question: "In astrophysics, what is a 'standard candle' and why is it important for measuring cosmic distances?", options: ["A type of star with constant temperature.", "An astronomical object with a known absolute magnitude, allowing distance to be calculated from its observed brightness.", "A calibration tool used for telescopes on Earth.", "The unit of measurement for the brightness of celestial objects."], answer: "An astronomical object with a known absolute magnitude, allowing distance to be calculated from its observed brightness." }
        ];
        
        // Mock data for AI Prompt Evaluation Tasks
        var mockAITasks = [
            { task: 'Goal: Generate a photorealistic image of a "vintage futuristic car". Which prompt is better?', options: { A: '"vintage futuristic car"', B: '"Photorealistic image of a retro-futuristic automobile, 1950s chrome fins blended with sleek, minimalist neon lines, cinematic lighting, hyperdetailed, 8K resolution."' }, answer: 'B', feedback: 'Correct. Prompt B is far more specific, providing details on style, elements, lighting, and quality, which leads to a better result.' },
            { task: 'Goal: Summarize a complex scientific paper for a high school audience. What critical instruction is missing from this prompt? <br><strong>Prompt:</strong> "Summarize the attached paper."', options: { A: 'Specify the desired length.', B: 'Define the target audience and their prior knowledge level.', C: 'Ask for a list of keywords.' }, answer: 'B', feedback: 'Correct. Explicitly defining the target audience is crucial for setting the correct tone and complexity.' },
            { task: 'Goal: Write a story. Identify the primary weakness of this prompt: <br><strong>Prompt:</strong> "Write a story about a character named Alex."', options: { A: "It's too open-ended, lacking constraints on genre, plot, or setting.", B: 'The name "Alex" is too common.', C: "It doesn't specify the story's tense (past/present)." }, answer: 'A', feedback: "Correct. The prompt is too vague. A good prompt provides context, constraints, and a clear goal to guide the AI." }
        ];

        var reviewIndex = 0;
        var score = 0;
        var shuffledMCQs = [];
        var shuffledAITasks = [];
        var qualified = false;
        var dynamicTextElement = document.getElementById('dynamic-text');
        var dynamicTexts = ["Innovate.", "Evaluate.", "Excel.", "Challenge AI.", "Join the Future."];
        var textIndex = 0;

        function addReview() {
            var reviewsFeed = document.getElementById('reviews-feed');
            if (reviewIndex >= mockReviews.length) reviewIndex = 0;
            var review = mockReviews[reviewIndex];
            var item = document.createElement('div');
            item.className = 'feed-item';
            item.innerHTML = '<img src="' + review.img + '" alt="User avatar" class="review-avatar">' +
                         '<div class="review-content">' +
                           '<h3>' + review.user + '</h3>' +
                           '<p>' + review.review + '</p>' +
                         '</div>';
            if(reviewsFeed.firstChild) {
                reviewsFeed.insertBefore(item, reviewsFeed.firstChild);
            } else {
                reviewsFeed.appendChild(item);
            }
            reviewIndex++;
        }
        
        function updateDynamicText() {
            if (!dynamicTextElement) return;
            dynamicTextElement.textContent = dynamicTexts[textIndex];
            textIndex = (textIndex + 1) % dynamicTexts.length;
        }

        function shuffleArray(array) {
            for (var i = array.length - 1; i > 0; i--) {
                var j = Math.floor(Math.random() * (i + 1));
                var temp = array[i];
                array[i] = array[j];
                array[j] = temp;
            }
            return array;
        }

        function renderAllMCQs() {
            var container = document.getElementById('mcq-container-full');
            var mcqsHTML = '';
            shuffledMCQs.forEach(function(mcq, index) {
                var optionsHTML = '';
                var shuffledOptions = shuffleArray(mcq.options.slice());
                shuffledOptions.forEach(function(option) {
                    optionsHTML += '<label><input type="radio" name="mcq-' + index + '" value="' + option.replace(/"/g, '&quot;') + '"> ' + option + '</label>';
                });
                mcqsHTML += '<div class="quiz-question">' +
                                '<h4>' + (index + 1) + '. ' + mcq.question + '</h4>' +
                                '<div class="mcq-options">' + optionsHTML + '</div>' +
                            '</div>';
            });
            container.innerHTML = mcqsHTML;
        }

        function renderAllAITasks() {
            var container = document.getElementById('ai-task-container-full');
            var tasksHTML = '';
            shuffledAITasks.forEach(function(task, index) {
                var optionsHTML = '';
                for (var key in task.options) {
                    optionsHTML += '<label><input type="radio" name="ai-task-' + index + '" value="' + key + '"> <strong>' + key + ':</strong> ' + task.options[key] + '</label>';
                }
                tasksHTML += '<div class="quiz-question">' +
                                '<p><strong>' + task.task + '</strong></p>' +
                                '<div class="mcq-options">' + optionsHTML + '</div>' +
                                '<button onclick="checkSingleAITask(this, ' + index + ')">Check Practice Answer</button>' +
                                '<div id="ai-feedback-' + index + '" class="ai-feedback-area"></div>' +
                            '</div>';
            });
            container.innerHTML = tasksHTML;
        }
        
        function checkSingleAITask(button, taskIndex) {
            var selectedOption = document.querySelector('input[name="ai-task-' + taskIndex + '"]:checked');
            var feedbackEl = document.getElementById('ai-feedback-' + taskIndex);
            var task = shuffledAITasks[taskIndex];
            if (!selectedOption) {
                feedbackEl.innerHTML = "Please select an evaluation.";
                feedbackEl.style.color = 'orange';
                return;
            }
            if (selectedOption.value === task.answer) {
                feedbackEl.innerHTML = task.feedback;
                feedbackEl.style.color = '#3498db'; /* Changed from green to main blue */
            } else {
                 feedbackEl.innerHTML = "Not quite. The correct choice was " + task.answer + ". " + task.feedback;
                 feedbackEl.style.color = 'red';
            }
            button.disabled = true;
            var radioButtons = document.querySelectorAll('input[name="ai-task-' + taskIndex + '"]');
            radioButtons.forEach(function(radio) { radio.disabled = true; });
        }

        function closeResults() {
            document.getElementById('results-page').style.display = 'none';
        }

        function gradeQuiz() {
            var newScore = 0;
            var totalQuestions = shuffledMCQs.length;
            shuffledMCQs.forEach(function(mcq, index) {
                var selectedOption = document.querySelector('input[name="mcq-' + index + '"]:checked');
                if (selectedOption && selectedOption.value === mcq.answer) {
                    newScore++;
                }
            });

            score = newScore;
            document.getElementById('score').innerText = score;
            
            var allRadios = document.querySelectorAll('#mcq-container-full input[type="radio"]');
            allRadios.forEach(function(radio) { radio.disabled = true; });
            var submitButton = document.getElementById('quiz-submit-button');
            submitButton.disabled = true;
            submitButton.textContent = 'Grading Complete';

            // Get elements for the results page
            var resultsPage = document.getElementById('results-page');
            var resultsTitle = document.getElementById('results-title');
            var resultsScore = document.getElementById('results-score');
            var resultsMessage = document.getElementById('results-message');
            var qualifiedLink = document.getElementById('qualified-link-container');
            var resultsContent = document.getElementById('results-content');

            // Populate and show the results page
            resultsScore.textContent = score + ' / ' + totalQuestions;

            if (score >= totalQuestions) {
                qualified = true;
                resultsTitle.textContent = "Congratulations! You've Qualified!";
                resultsTitle.style.color = '#3498db';
                resultsContent.style.borderColor = '#3498db';
                resultsMessage.innerHTML = "<p>Your perfect score demonstrates your expertise. You now have access to exclusive expert projects.</p>";
                qualifiedLink.style.display = 'block';
            } else {
                resultsTitle.textContent = "Results";
                resultsTitle.style.color = 'red';
                resultsContent.style.borderColor = 'red';
                resultsMessage.innerHTML = '<strong><span style="font-size: 1.5em; color: red;">FAILED</span> 😞</strong><p>A perfect score of 10/10 is required to qualify. Please review the material and try again on your next visit.</p>';
                qualifiedLink.style.display = 'none';
            }

            resultsPage.style.display = 'block';
        }
        
        function loadAllProjects() {
            var container = document.getElementById('projects-feed');
            if (!container) return;
            var projectsHTML = '';
            mockProjects.forEach(function(project, index) {
                var initialTasks = Math.floor(Math.random() * (3000 - 140 + 1)) + 140;
                projectsHTML += '<div class="project-card">' +
                                '<h3>' + project.title + '</h3>' +
                                '<div class="status">Active</div>' +
                                '<div class="tasks">' +
                                    initialTasks.toLocaleString() +
                                    '<span>Available Tasks</span>' +
                                '</div>' +
                            '</div>';
            });
            container.innerHTML = projectsHTML;
        }

        function updateTaskCounts() {
            var taskElements = document.querySelectorAll('.project-card .tasks');
            taskElements.forEach(function(el) {
                var currentTasks = parseInt(el.innerText.replace(/,/g, ''), 10);
                var fluctuation = Math.floor(Math.random() * 50) - 25;
                var newTasks = currentTasks + fluctuation;
                if (newTasks < 140) newTasks = 165;
                if (newTasks > 3000) newTasks = 2975;
                el.innerHTML = newTasks.toLocaleString() + '<span>Available Tasks</span>';
            });
        }


        // --- Initial Load and Interval Timers ---
        document.addEventListener('DOMContentLoaded', function() {
            shuffledMCQs = shuffleArray(mockMCQs.slice());
            shuffledAITasks = shuffleArray(mockAITasks.slice());
            
            showPage('home');
            renderAllMCQs();
            renderAllAITasks();
            loadAllProjects();
            updateDynamicText();
            
            // Start the simulations
            setInterval(addReview, 5000);
            setInterval(updateDynamicText, 4000);
            setInterval(updateTaskCounts, 2500);
        });

    </script>

</body>
</html>

